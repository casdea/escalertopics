(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9905],{49264:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var l=r(52322),s=r(2784),i=r(72779),o=r.n(i),a=r(1645),n=r.n(a),c=r(24908),_=r(28785),p=r(95645),d=r(33321),u=r(59471),f=r.n(u),h=r(30552),v=e=>{let{endOfList:t,onMoreClick:r,onSearch:s,searchText:i,dropdownItems:a,group:n,titleClassName:_,searchClassName:p,className:d}=e,{filters:u,selectedFilters:v,updateFilter:m}=(0,c.useFilterContext)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"full-width row flex-ac space-between",children:[(0,l.jsx)("div",{className:o()(f().group,_),children:u[n].label}),(0,l.jsx)(h.default,{searchValue:i,placeholder:"Search for Tags",className:o()(f().searchbar,p),noPopover:!0,handleSearch:s})]}),(0,l.jsxs)("div",{className:o()(f().tagContainer,"m-t-xs full-width",d),children:[(0,l.jsx)("div",{className:f().tagGridContainer,children:a.map((e,t)=>{var r,s;return(0,l.jsxs)("div",{className:o()(f().filter_values,{[f().selected_filter]:null===(r=null==v?void 0:v.get(n))||void 0===r?void 0:r.includes(e.attributes.slug)}),children:[(0,l.jsx)("input",{className:"m-r-10",type:"checkbox",checked:!!(null===(s=null==v?void 0:v.get(n))||void 0===s?void 0:s.includes(e.attributes.slug)),onChange:()=>{m(n,e.attributes.slug)}}),e.attributes.title]},t)})}),t?null:(0,l.jsx)("div",{className:f().moreButton,role:"button",onClick:()=>r(),tabIndex:0,children:"More"})]})]})},m=e=>{let{className:t,isLoading:r,endOfList:i,onMoreClick:a,searchText:n,onSearch:c,dropdownItems:_,popoverProps:u={},iconName:h,iconClassName:m,selectedClassName:x,titleClassName:g,separatorClassName:j,headerClassName:N,group:b,titleUi:C,filterPopover:w,...k}=e,y=(0,s.useCallback)(()=>C||(0,l.jsx)("div",{className:o()("row flex-ac",f().show_more),children:"Show more"}),[C]);return(0,l.jsx)(p.Z,{component:d.Z,className:o()(t),title:y,popoverProps:{...u,...w,className:o()(f().popover,f().filterPopover,null==u?void 0:u.className,null==u?void 0:u.location)},titleClassName:g,...k,children:(0,l.jsx)(v,{dropdownItems:_,onMoreClick:a,onSearch:c,searchText:n,group:b,endOfList:i})})},x=r(3314),g=r(3105),j=r(95862),N=e=>{let{context:t,showClear:r,filterType:s,isCategoryFilter:i=!1,filterContainerClass:a,trackEventFunction:p}=e,{filters:d,selectedFilters:u,updateFilter:f,clearGroup:h}=(0,c.useFilterContext)(),N=Object.keys(d),b=N.filter(e=>""===d[e].parent_id),{tablet:C,mobile:w}=(0,x.Z)(),k=i?Object.keys(d).length:g.JD,{tagList:y,loadMore:F,searchText:P,searchTag:Z,isReachingEnd:B,isLoadingMore:S}=(0,_.Z)(t,s,i),T=(e,t)=>{var r,s,i;return(0,l.jsxs)("div",{className:o()("row flex-ac",n().filter_values,n()["".concat(e,"_filter_value")],{[n().selected_filter]:null===(r=null==u?void 0:u.get(e))||void 0===r?void 0:r.includes(t)}),children:[(0,l.jsx)("input",{className:"m-r-10",type:"checkbox",checked:!!(null===(s=null==u?void 0:u.get(e))||void 0===s?void 0:s.includes(t)),onChange:()=>{f(e,t),p&&p(d[t].label)}}),null===(i=d[t])||void 0===i?void 0:i.label]},t)},L=e=>(C||w)&&"tags"===e?(0,l.jsx)(v,{dropdownItems:y,onMoreClick:()=>F(),endOfList:S||B,searchText:P,onSearch:Z,group:e,titleClassName:n().tags_popover_title,searchClassName:n().popover_searchbar,className:n().tag_container}):(0,l.jsx)("div",{className:n()["".concat(e,"_filter")],children:d[e].values.slice(0,k).map(t=>T(e,t))});return(0,l.jsx)("div",{className:o()(n().filter_container,a),children:b.map(e=>{var t;return(0,l.jsxs)("div",{className:n().filters,children:[(0,l.jsxs)("div",{className:o()(n().group,{["".concat(n().hide)]:i}),children:[d[e].label,(null===(t=null==u?void 0:u.get(e))||void 0===t?void 0:t.length)&&r?(0,l.jsx)("span",{role:"button",tabIndex:0,className:o()(n().clear,"hide-in-tablet"),onClick:()=>h(e),children:"Clear all"}):null,"tags"===e?(0,l.jsx)(m,{dropdownItems:y,onMoreClick:()=>F(),isLoading:S,endOfList:S||B,searchText:P,onSearch:Z,iconName:"filter2",className:o()(n().tappable,n().btn),group:e,popoverProps:{className:"topics-popover"},titleClassName:o()(n().title_classname,"hide-in-tablet"),titleUi:(0,l.jsx)(j.j,{className:o()(n().search_icon,"hide-in-tablet")}),filterPopover:{location:{left:-225,top:-25}}}):null]}),(0,l.jsx)("div",{children:L(e)}),d[e].values.length>4&&k===g.JD?(0,l.jsx)(m,{dropdownItems:y,onMoreClick:()=>F(),isLoading:S,endOfList:S||B,searchText:P,onSearch:Z,iconName:"filter2",className:o()(n().tappable,n().btn),group:e,popoverProps:{className:"topics-popover"},titleClassName:o()(n().title_classname,"hide-in-tablet"),filterPopover:{location:{left:0,top:-230}}}):null]},e)})})}},89905:function(e,t,r){"use strict";r.r(t);var l=r(52322),s=r(2784),i=r(72779),o=r.n(i),a=r(33321),n=r(78597),c=r(3314),_=r(24908),p=r(49264),d=r(15957),u=r(85441),f=r(147),h=r(1645),v=r.n(h),m=r(75160),x=r(66587);let g=e=>{let{context:t,onClose:r,onApplyFilter:s,onClearFilter:i,filterType:c,isCategoryFilter:d,filterContainerClass:f}=e,{selectedFilters:h}=(0,_.useFilterContext)();return(0,l.jsxs)("div",{className:v().popup_container,children:[(0,l.jsxs)("div",{className:o()("row space-between",v().popup_header),children:[(0,l.jsxs)("div",{className:"row flex-ac",children:[(0,l.jsx)(u.Z,{src:"/images/filter_icon_black.svg",alt:"filter",height:"18",width:"18"}),(0,l.jsx)("span",{className:v().popup_heading,children:"Filters"})]}),(0,l.jsx)(m.b,{onClick:r,className:"cursor"})]}),(0,l.jsx)("div",{className:v().middle_section,children:(0,l.jsx)(p.Z,{context:t,filterType:c,isCategoryFilter:!!(0,n.xb)(d)||d,filterContainerClass:f})}),(0,l.jsxs)("div",{className:o()("row space-between m-t-28",v().button_container),children:[(0,l.jsx)(a.Z,{className:v().popup_clear,onClick:i,children:"Clear all"}),(0,l.jsx)(a.Z,{className:v().popup_apply,onClick:()=>s(h),children:"Apply"})]})]})};t.default=e=>{let{context:t,popupHeight:r,showOptions:i,sortFilters:a,filterType:p,isCategoryFilter:h,filterContainerClass:m}=e,{filters:j,sorts:N,selectedFilters:b,clearGroup:C,setAppliedFilters:w}=(0,_.useFilterContext)(),[k,y]=(0,s.useState)(!1),[F,P]=(0,s.useState)(!1),Z=(0,s.useRef)(null),B=(0,s.useRef)(null),{tablet:S}=(0,c.Z)(),T=(0,s.useMemo)(()=>{let e=0;return b.forEach(t=>{e+=t.length}),e},[b]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:v().chip_container,children:[i.includes("filter")?(0,l.jsxs)("div",{className:o()("row",{[v().filters_chip]:i.includes("sort")}),role:"button",tabIndex:0,onClick:()=>y(!0),children:[(0,l.jsx)(u.Z,{src:"/images/filter_icon.svg",alt:"filter",height:"18",width:"18"}),(0,l.jsx)("span",{className:v().chip_heading,children:"Filters"}),T>0?(0,l.jsx)("span",{className:v().filter_count,children:T}):null]}):null,i.includes("sort")?(0,l.jsxs)("div",{className:o()("row",{"m-l-xs":i.includes("filter")}),ref:B,role:"button",tabIndex:0,onClick:()=>P(!0),children:[(0,l.jsx)(x.U,{"data-testid":"icon-id",className:o()(v().sort)}),(0,l.jsx)("span",{className:v().chip_heading,children:"Sort"})]}):null]}),k&&S?(0,l.jsx)(d.default,{popoverRef:Z,isOpen:!0,popupHeight:r||"40%",popupClassName:v().popup,parentClassName:v().mobile_popup,hasBackdrop:!0,children:(0,l.jsx)(_.FilterProvider,{initialData:{filters:j,sorts:N,selectedFilters:b},children:(0,l.jsx)(g,{context:t,onApplyFilter:e=>{w(e),y(!1)},onClearFilter:()=>{C(),y(!1)},onClose:async()=>y(!1),filterType:p,isCategoryFilter:!!(0,n.xb)(h)||h,filterContainerClass:m})})}):null,F&&S?(0,l.jsx)(f.default,{parentRef:B,closePopover:async()=>P(!1),sortFilters:a}):null]})}},147:function(e,t,r){"use strict";r.r(t);var l=r(52322),s=r(2784),i=r(72779),o=r.n(i),a=r(33710),n=r(85577),c=r(97610),_=r(64930),p=r(91741),d=r.n(p),u=r(15957),f=r(24908),h=r(75160),v=r(66587);t.default=e=>{let{closePopover:t,parentRef:r,location:i,sortFilters:p,trackEventFunction:m}=e,x=(0,s.useRef)(null),{mobile:g,tablet:j}=(0,n.Z)(),{updateSort:N,selectedSort:b}=(0,f.useFilterContext)(),C=e=>{N(e.key,e.order),m&&m(e.key)};function w(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:d().sort_popover,children:p.map((e,t)=>(0,l.jsx)("div",{className:o()("m-b-xxs",{[d().selected_sort]:b.key===e.key&&b.order===e.order}),onClick:()=>C(e),"aria-hidden":!0,children:e.name},t))})})}return(0,c.Z)(r,e=>{x.current&&!x.current.contains(e.target)&&t()}),(0,l.jsx)(l.Fragment,{children:g||j?(0,l.jsx)(u.default,{popoverRef:x,isOpen:!0,popupHeight:"auto",hasBackdrop:!0,children:(0,l.jsxs)("div",{className:d().popup_container,children:[(0,l.jsxs)("div",{className:"row space-between m-b-xs",children:[(0,l.jsxs)("div",{className:"row flex-ac",children:[(0,l.jsx)(v.U,{"data-testid":"icon-id",className:d().sort}),(0,l.jsx)("span",{className:d().popup_heading,children:"Sort"})]}),(0,l.jsx)(h.b,{onClick:t,className:"cursor"})]}),w()]})}):(0,l.jsxs)(_.Z,{ref:x,anchorRef:r,className:o()(d().card),isOpen:!0,location:i||{top:50,left:-50},onClose:t,children:[(0,l.jsx)(a.Z,{id:"copy",textColor:"white",afterShow:()=>{setTimeout(a.Z.hide,1e3)}}),w()]})})}},1645:function(e){e.exports={filter_container:"filter_filter_container__0pVsq",group:"filter_group__MbGPs",clear:"filter_clear__B81rH",filters:"filter_filters__b5D4f",filter_values:"filter_filter_values__aKj_Z",chip_container:"filter_chip_container__ca7c9",chip_heading:"filter_chip_heading__dgVga",filters_chip:"filter_filters_chip__Y_49J",popup_container:"filter_popup_container__bx9mT",popup_header:"filter_popup_header__Pr_q5",popup_heading:"filter_popup_heading__5WSWc",middle_section:"filter_middle_section__xIH0d",button_container:"filter_button_container__rMuVm",popup_clear:"filter_popup_clear__7uMkV",popup_apply:"filter_popup_apply__N_WGf",checkbox:"filter_checkbox__CsT40",filter_count:"filter_filter_count__PhDyO",selected_filter:"filter_selected_filter__LEukW",title_classname:"filter_title_classname__hEKF6",searchbar:"filter_searchbar__Q5tEh",sort:"filter_sort__fC38h",moreButton:"filter_moreButton__1n_c0",tags_popover_title:"filter_tags_popover_title__Jm5Yx",popover_searchbar:"filter_popover_searchbar__MA7rH",hide:"filter_hide__ciw73",category_type_filter:"filter_category_type_filter__WQ1uq",category_type_filter_value:"filter_category_type_filter_value__oQ8g3",level_filter:"filter_level_filter__9Yi1v"}},59471:function(e){e.exports={dropdown:"filter_popover_dropdown__Aifso",dropdownTitle:"filter_popover_dropdownTitle__hxgUS",dropdownLeft:"filter_popover_dropdownLeft__dEfLQ",headerClass:"filter_popover_headerClass__qP5XP",filterPopover:"filter_popover_filterPopover__UV_Me",popover:"filter_popover_popover__tQoiL",moreButton:"filter_popover_moreButton__sRH70",filterheading:"filter_popover_filterheading__zW9WB",searchbar:"filter_popover_searchbar__WUs5n",tagContainer:"filter_popover_tagContainer__hlyIN",tagGridContainer:"filter_popover_tagGridContainer__923vk",show_more:"filter_popover_show_more__5BeTi",filter_values:"filter_popover_filter_values__iuDq4",selected_filter:"filter_popover_selected_filter__B1YaM",group:"filter_popover_group__8Kl9t"}},91741:function(e){e.exports={sort_popover:"sortButton_sort_popover__rsYxh",selected_sort:"sortButton_selected_sort__0zEYk",popup_container:"sortButton_popup_container__bUwGS",popup_heading:"sortButton_popup_heading__Pg07g"}}}]);